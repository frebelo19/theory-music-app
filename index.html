<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz de Música - Escalas Maiores e Acordes</title>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; background: #f4f4f9; margin: 0; padding: 0; }
    #quiz-container { max-width: 600px; margin: 50px auto; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
    button { margin: 8px; padding: 10px 20px; border: none; border-radius: 8px; cursor: pointer; background: #4CAF50; color: white; font-size: 16px; }
    button:hover { background: #45a049; }
    .hidden { display: none; }
    #feedback { margin-top: 15px; font-weight: bold; }
    #question-count { margin-bottom: 10px; font-size: 14px; color: #555; }
  </style>
</head>
<body>
  <div id="quiz-container">
    <div id="start-screen">
      <h1>Quiz de Música</h1>
      <p>Bem-vindo! Este quiz vai testar seus conhecimentos em <b>Escalas Maiores</b> e <b>Composição de Acordes</b>.</p>
      <button onclick="startQuiz()">Iniciar Quiz</button>
    </div>

    <div id="quiz-screen" class="hidden">
      <div id="question-count"></div>
      <h2 id="question"></h2>
      <div id="options"></div>
      <div id="feedback"></div>
    </div>

    <div id="end-screen" class="hidden">
      <h2>Quiz Concluído!</h2>
      <p id="score"></p>
      <button onclick="startQuiz()">Jogar Novamente</button>
    </div>
  </div>

  <script>
    const questions = [
      // Escalas Maiores
      { question: "Quantos tons e semitons tem a fórmula da escala maior?", options: ["TTSTTTS", "TSTTSTT", "TTTSTTS", "STTTTSS"], answer: 0, explanation: "A escala maior segue a fórmula: Tom, Tom, Semitom, Tom, Tom, Tom, Semitom (TTSTTTS)." },
      { question: "Qual a armadura de clave da escala de Sol maior?", options: ["Nenhum acidente", "1 sustenido", "2 sustenidos", "1 bemol"], answer: 1, explanation: "Sol maior possui 1 sustenido (F#)." },
      { question: "Qual é a relativa menor de Dó maior?", options: ["Lá menor", "Mi menor", "Ré menor", "Sol menor"], answer: 0, explanation: "A relativa menor de Dó maior é Lá menor." },
      { question: "Qual é a 3ª nota da escala de Ré maior?", options: ["F#", "G", "E", "A"], answer: 2, explanation: "A escala de Ré maior é: D, E, F#, G, A, B, C#, D. A 3ª nota é E." },
      { question: "A escala de Fá maior possui quantos bemóis?", options: ["1 bemol", "2 bemóis", "3 bemóis", "nenhum"], answer: 0, explanation: "Fá maior tem 1 bemol (Bb)." },
      { question: "Qual é a tonalidade que possui 3 sustenidos na armadura de clave?", options: ["Lá maior", "Sol maior", "Ré maior", "Mi maior"], answer: 0, explanation: "Lá maior possui 3 sustenidos: F#, C#, G#." },
      { question: "Qual a escala maior que não possui nenhum acidente na armadura de clave?", options: ["Sol maior", "Dó maior", "Fá maior", "Lá maior"], answer: 1, explanation: "Dó maior não possui sustenidos nem bemóis." },
      { question: "Qual é a nota sensível na escala de Si maior?", options: ["A#", "F#", "C#", "G#"], answer: 0, explanation: "A sensível de Si maior é Lá# (7º grau)." },
      { question: "A escala de Mi bemol maior possui quantos bemóis?", options: ["2", "3", "4", "5"], answer: 1, explanation: "Mi bemol maior possui 3 bemóis: Bb, Eb, Ab." },
      { question: "Qual é a dominante de Dó maior?", options: ["Sol", "Fá", "Ré", "Mi"], answer: 0, explanation: "A dominante (5º grau) de Dó maior é Sol." },

      // Acordes
      { question: "Um acorde maior é formado por quais intervalos?", options: ["3ª maior e 5ª justa", "3ª menor e 5ª justa", "3ª maior e 5ª diminuta", "3ª menor e 5ª aumentada"], answer: 0, explanation: "Um acorde maior é formado pela fundamental, 3ª maior e 5ª justa." },
      { question: "Qual tríade forma o acorde de Lá menor?", options: ["A, C, E", "A, C#, E", "A, D, F", "A, E, G"], answer: 0, explanation: "Lá menor é formado por A, C e E." },
      { question: "Qual acorde é formado pelas notas C, E, G, B?", options: ["Cmaj7", "C7", "Cm7", "Cdim"], answer: 0, explanation: "C, E, G, B formam um acorde de Cmaj7." },
      { question: "Quais são as notas do acorde de Ré maior?", options: ["D, F#, A", "D, F, A", "D, G, B", "D, E, A"], answer: 0, explanation: "O acorde de Ré maior é formado por D, F# e A." },
      { question: "Um acorde diminuto é formado por quais intervalos?", options: ["3ª menor e 5ª diminuta", "3ª maior e 5ª justa", "3ª menor e 5ª justa", "3ª maior e 5ª aumentada"], answer: 0, explanation: "Um acorde diminuto tem fundamental, 3ª menor e 5ª diminuta." },
      { question: "Qual acorde é formado pelas notas G, B, D, F?", options: ["Gmaj7", "G7", "Gm7", "Gdim"], answer: 1, explanation: "G, B, D, F formam o acorde G7 (dominante)." },
      { question: "Qual é a diferença entre Cmaj7 e C7?", options: ["Cmaj7 tem B, C7 tem Bb", "Cmaj7 tem Bb, C7 tem B", "Cmaj7 tem G#, C7 tem F#", "Nenhuma"], answer: 0, explanation: "Cmaj7 = C, E, G, B. C7 = C, E, G, Bb." },
      { question: "Quais são as notas do acorde de Fá maior?", options: ["F, A, C", "F, Ab, C", "F, G, C", "F, A, D"], answer: 0, explanation: "Fá maior = F, A, C." },
      { question: "Um acorde menor com sétima menor é chamado de: ", options: ["m7", "maj7", "7", "dim7"], answer: 0, explanation: "Um acorde menor com 7ª menor é escrito como m7." },
      { question: "Qual acorde é formado pelas notas B, D, F, A?", options: ["Bm7b5", "Bdim", "B7", "Bm7"], answer: 0, explanation: "B, D, F, A formam o acorde meio diminuto (Bm7b5)." }
    ];

    let currentQuestion = 0;
    let score = 0;
    const totalQuestions = 5; // cada rodada terá 5 perguntas aleatórias

    function startQuiz() {
      currentQuestion = 0;
      score = 0;
      document.getElementById("start-screen").classList.add("hidden");
      document.getElementById("end-screen").classList.add("hidden");
      document.getElementById("quiz-screen").classList.remove("hidden");
      shuffleArray(questions);
      showQuestion();
    }

    function showQuestion() {
      if (currentQuestion >= totalQuestions) {
        endQuiz();
        return;
      }

      const q = questions[currentQuestion];
      document.getElementById("question-count").innerText = `Pergunta ${currentQuestion+1}/${totalQuestions}`;
      document.getElementById("question").innerText = q.question;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach((option, index) => {
        const button = document.createElement("button");
        button.innerText = option;
        button.onclick = () => checkAnswer(index);
        optionsDiv.appendChild(button);
      });
      document.getElementById("feedback").innerText = "";
    }

    function checkAnswer(choice) {
      const q = questions[currentQuestion];
      if (choice === q.answer) {
        score++;
        document.getElementById("feedback").innerText = "✅ Resposta correta!";
        setTimeout(() => {
          currentQuestion++;
          showQuestion();
        }, 1500);
      } else {
        document.getElementById("feedback").innerText = `❌ Resposta incorreta! ${q.explanation}`;
        setTimeout(() => {
          currentQuestion++;
          showQuestion();
        }, 3000);
      }
    }

    function endQuiz() {
      document.getElementById("quiz-screen").classList.add("hidden");
      document.getElementById("end-screen").classList.remove("hidden");
      document.getElementById("score").innerText = `Você acertou ${score} de ${totalQuestions} perguntas.`;
    }

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
  </script>
</body>
</html>
